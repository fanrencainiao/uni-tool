{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/tmUI-vuetify示例/subpages/moban/cartBag.vue?6ba9","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/tmUI-vuetify示例/subpages/moban/cartBag.vue?7ce7","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/tmUI-vuetify示例/subpages/moban/cartBag.vue?01de","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/tmUI-vuetify示例/subpages/moban/cartBag.vue?2dbf","uni-app:///subpages/moban/cartBag.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"subpages/moban/cartBag.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './subpages/moban/cartBag.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./cartBag.vue?vue&type=template&id=d1143fae&\"\nvar renderjs\nimport script from \"./cartBag.vue?vue&type=script&lang=js&\"\nexport * from \"./cartBag.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"subpages/moban/cartBag.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cartBag.vue?vue&type=template&id=d1143fae&\"","var components\ntry {\n  components = {\n    tmMenubars: function() {\n      return import(\n        /* webpackChunkName: \"tm-vuetify/components/tm-menubars/tm-menubars\" */ \"@/tm-vuetify/components/tm-menubars/tm-menubars.vue\"\n      )\n    },\n    tmSliderNav: function() {\n      return import(\n        /* webpackChunkName: \"tm-vuetify/components/tm-sliderNav/tm-sliderNav\" */ \"@/tm-vuetify/components/tm-sliderNav/tm-sliderNav.vue\"\n      )\n    },\n    tmCartCellListFood: function() {\n      return import(\n        /* webpackChunkName: \"tm-vuetify/components/tm-cartCellListFood/tm-cartCellListFood\" */ \"@/tm-vuetify/components/tm-cartCellListFood/tm-cartCellListFood.vue\"\n      )\n    },\n    tmCartBarFood: function() {\n      return import(\n        /* webpackChunkName: \"tm-vuetify/components/tm-cartBarFood/tm-cartBarFood\" */ \"@/tm-vuetify/components/tm-cartBarFood/tm-cartBarFood.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.$tm.vx.state()\n  var g1 = _vm.$tm.vx.state()\n  var g2 = _vm.$tm.vx.state()\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cartBag.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cartBag.vue?vue&type=script&lang=js&\"","<template>\n\t<view  class=\"grey text \" :class=\"$tm.vx.state().tmVuetify.black ? 'black bk' : ''\" :style=\"{ height: bodyHeight + 'px' }\">\r\n\t\t\r\n\t\t<tm-menubars  title=\"购物车工具条\" color=\"bg-gradient-primary-lighten\" :showback=\"true\"></tm-menubars>\r\n\t\t\r\n\t\t<view class=\"flex fulled-height\" >\r\n\t\t\t<view class=\"fulled-height \" :class=\"$tm.vx.state().tmVuetify.black ? 'grey-darken-4 bk' : 'grey-lighten-5'\">\r\n\t\t\t\t<tm-sliderNav :fontSize=\"24\"  @change=\"navChange\"  color=\"blue\" :round=\"0\" :width=\"160\" :list=\"listMenu\" rang-key=\"text\"></tm-sliderNav>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"fulled-height \"  :class=\"$tm.vx.state().tmVuetify.black ? 'black ' : 'white'\" style=\"width:calc(100% - 160rpx);\">\r\n\t\t\t\t<block v-for=\"(item,index) in list\" :key=\"index\">\r\n\t\t\t\t\t<tm-cartCellListFood border=\"\" color=\"blue\"  @change=\"add($event,index)\" :mdata=\"item\" :cartNum.sync=\"item.buy\" :key=\"item.id\"></tm-cartCellListFood>\r\n\t\t\t\t</block>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<tm-cartBarFood @confirm=\"confirm\" @change=\"carchange\" @clear=\"clearList\" :list=\"test\" position=\"bottom\" color=\"blue\"  btnColor=\"bg-gradient-red-accent\"></tm-cartBarFood>\r\n\r\n\t</view>\n</template>\n\n<script>\r\n\t/**\r\n\t * 实例不同于外卖（原生app），直接显示所有列表，为了不卡，\r\n\t * 每次点击类目都是重新加载数据列表，只显示一列，不显示所有。\r\n\t */\n\timport tmSliderNav from \"@/tm-vuetify/components/tm-sliderNav/tm-sliderNav.vue\"\r\n\timport tmCartCellListFood from \"@/tm-vuetify/components/tm-cartCellListFood/tm-cartCellListFood.vue\"\r\n\timport tmListitem from \"@/tm-vuetify/components/tm-listitem/tm-listitem.vue\"\r\n\timport tmMenubars from \"@/tm-vuetify/components/tm-menubars/tm-menubars.vue\"\r\n\timport tmFullView from \"@/tm-vuetify/components/tm-fullView/tm-fullView.vue\"\r\n\timport tmSheet from \"@/tm-vuetify/components/tm-sheet/tm-sheet.vue\"\r\n\timport tmCartBarFood from \"@/tm-vuetify/components/tm-cartBarFood/tm-cartBarFood.vue\"\r\n\texport default {\r\n\t\tcomponents:{tmSliderNav,tmListitem,tmMenubars,tmFullView,tmSheet,tmCartCellListFood,tmCartBarFood},\n\t\tdata() {\n\t\t\treturn {\r\n\t\t\t\tlistMenu:[\r\n\t\t\t\t\t{text:'家电家居',dot:0,id:0},\r\n\t\t\t\t\t{text:'美壮美容',dot:0,id:1},\r\n\t\t\t\t\t{text:'零售食',dot:0,id:2},\r\n\t\t\t\t],\r\n\t\t\t\tactiveIndex:0,\r\n\t\t\t\tlist:[],\n\t\t\t\ttest:[],\r\n\t\t\t\tbodyHeight:50,\n\t\t\t};\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.navChange()\r\n\t\t\tlet sy = uni.getSystemInfoSync();\r\n\t\t\tthis.bodyHeight = sy.windowHeight - sy.statusBarHeight - 50;\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//切换分类时获取数据。\r\n\t\t\tnavChange(index=0){\r\n\t\t\t\t//if(this.activeIndex ==index) return;\r\n\t\t\t\tconsole.log(index);\r\n\t\t\t\tthis.activeIndex = index;\r\n\t\t\t\tlet testlist = [\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\timg:'https://picsum.photos/300?k=2',\r\n\t\t\t\t\t\t\ttitle:'产品1这个产品会这个产',\r\n\t\t\t\t\t\t\tprice:36.2,\r\n\t\t\t\t\t\t\tsalePrice:76.4,\r\n\t\t\t\t\t\t\tsaleLabel:[],\r\n\t\t\t\t\t\t\tunit:'/斤',\r\n\t\t\t\t\t\t\tid:1,\r\n\t\t\t\t\t\t\tbuy:0,\r\n\t\t\t\t\t\t\titemId:0\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\timg:'https://picsum.photos/300?k=6',\r\n\t\t\t\t\t\t\ttitle:'产品2（任选）',\r\n\t\t\t\t\t\t\tlabel:'这个产品是只有几个融会',\r\n\t\t\t\t\t\t\tprice:36.2,\r\n\t\t\t\t\t\t\tsalePrice:76.4,\r\n\t\t\t\t\t\t\tunit:'/斤',\r\n\t\t\t\t\t\t\tid:2,\r\n\t\t\t\t\t\t\tbuy:0,\r\n\t\t\t\t\t\t\titemId:0\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\timg:'https://picsum.photos/300?k=1',\r\n\t\t\t\t\t\t\ttitle:'产品3（任选）',\r\n\t\t\t\t\t\t\tlabel:'这个产品是只有几个融会',\r\n\t\t\t\t\t\t\tprice:36.2,\r\n\t\t\t\t\t\t\tsalePrice:76.4,\r\n\t\t\t\t\t\t\tsaleLabel:['7折优惠','首单减3元'],\r\n\t\t\t\t\t\t\tunit:'/斤',\r\n\t\t\t\t\t\t\tid:3,\r\n\t\t\t\t\t\t\tbuy:0,\r\n\t\t\t\t\t\t\titemId:0\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\timg:'https://picsum.photos/300?k=22',\r\n\t\t\t\t\t\t\ttitle:'产品21',\r\n\t\t\t\t\t\t\tlabel:'这个产品是只有几个融会',\r\n\t\t\t\t\t\t\tprice:36.2,\r\n\t\t\t\t\t\t\tsalePrice:76.4,\r\n\t\t\t\t\t\t\tsaleLabel:['7折优惠','首单减3元'],\r\n\t\t\t\t\t\t\tunit:'/斤',\r\n\t\t\t\t\t\t\tid:4,\r\n\t\t\t\t\t\t\tbuy:0,\r\n\t\t\t\t\t\t\titemId:1\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\timg:'https://picsum.photos/300?k=26',\r\n\t\t\t\t\t\t\ttitle:'产品22（任选）',\r\n\t\t\t\t\t\t\tlabel:'这个产品是只有几个融会',\r\n\t\t\t\t\t\t\tprice:36.2,\r\n\t\t\t\t\t\t\tsalePrice:76.4,\r\n\t\t\t\t\t\t\tunit:'/斤',\r\n\t\t\t\t\t\t\tid:5,\r\n\t\t\t\t\t\t\tbuy:0,\r\n\t\t\t\t\t\t\titemId:1\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\timg:'https://picsum.photos/300?k=21',\r\n\t\t\t\t\t\t\ttitle:'产品23（任选）',\r\n\t\t\t\t\t\t\tlabel:'这个产品是只有几个融会',\r\n\t\t\t\t\t\t\tprice:36.2,\r\n\t\t\t\t\t\t\tsalePrice:76.4,\r\n\t\t\t\t\t\t\tsaleLabel:['7折优惠','首单减3元'],\r\n\t\t\t\t\t\t\tunit:'/斤',\r\n\t\t\t\t\t\t\tid:6,\r\n\t\t\t\t\t\t\tbuy:0,\r\n\t\t\t\t\t\t\titemId:1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\timg:'https://picsum.photos/300?k=13',\r\n\t\t\t\t\t\t\ttitle:'产品31',\r\n\t\t\t\t\t\t\tlabel:'这个产品是只有几个融会',\r\n\t\t\t\t\t\t\tprice:36.2,\r\n\t\t\t\t\t\t\tsalePrice:76.4,\r\n\t\t\t\t\t\t\tsaleLabel:['7折优惠','首单减3元'],\r\n\t\t\t\t\t\t\tunit:'/斤',\r\n\t\t\t\t\t\t\tid:7,\r\n\t\t\t\t\t\t\tbuy:0,\r\n\t\t\t\t\t\t\titemId:2\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\timg:'https://picsum.photos/300?k=12',\r\n\t\t\t\t\t\t\ttitle:'产品32（任选）',\r\n\t\t\t\t\t\t\tlabel:'这个产品是只有几个融会',\r\n\t\t\t\t\t\t\tprice:36.2,\r\n\t\t\t\t\t\t\tsalePrice:76.4,\r\n\t\t\t\t\t\t\tunit:'/斤',\r\n\t\t\t\t\t\t\tid:8,\r\n\t\t\t\t\t\t\tbuy:0,\r\n\t\t\t\t\t\t\titemId:2\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\timg:'https://picsum.photos/300?k=10',\r\n\t\t\t\t\t\t\ttitle:'产品33（任选）',\r\n\t\t\t\t\t\t\tlabel:'这个产品是只有几个融会',\r\n\t\t\t\t\t\t\tprice:36.2,\r\n\t\t\t\t\t\t\tsalePrice:76.4,\r\n\t\t\t\t\t\t\tsaleLabel:['7折优惠','首单减3元'],\r\n\t\t\t\t\t\t\tunit:'/斤',\r\n\t\t\t\t\t\t\tid:9,\r\n\t\t\t\t\t\t\tbuy:0,\r\n\t\t\t\t\t\t\titemId:2\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t];\r\n\t\t\t\tthis.list = testlist[this.activeIndex];\r\n\t\t\t\tthis.selectedListNum();\r\n\t\t\t\tthis.jishunFenLeiTotal();\r\n\t\t\t},\r\n\t\t\t//反选默认赋值\r\n\t\t\tselectedListNum(){\r\n\t\t\t\tlet t = this;\r\n\t\t\t\tthis.list.forEach((item,index)=>{\r\n\t\t\t\t\tlet index2 = t.test.findIndex(item2=>{\r\n\t\t\t\t\t\treturn item2.id == item.id;\r\n\t\t\t\t\t})\r\n\t\t\t\t\tif(index2>-1){\r\n\t\t\t\t\t\titem.buy = t.test[index2].buy;\r\n\t\t\t\t\t\tt.list.splice(index,1,item)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\titem.buy = 0;\r\n\t\t\t\t\t\tt.list.splice(index,1,item)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//计算分类的总数。\r\n\t\t\tjishunFenLeiTotal(){\r\n\t\t\t\tlet t = this;\r\n\t\t\t\tlet dm = t.listMenu;\r\n\t\t\t\tfor(let i=0;i<dm.length;i++){\r\n\t\t\t\t\tlet dot =0;\r\n\t\t\t\t\tfor(let j=0;j<t.test.length;j++){\r\n\t\t\t\t\t\tif(dm[i].id === t.test[j].itemId){\r\n\t\t\t\t\t\t\tdot = dot+t.test[j].buy;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdm[i].dot = dot\r\n\t\t\t\t\t//this.$set(this.listMenu[i],'dot',dot)\r\n\t\t\t\t\tthis.listMenu.splice(i,1,{...dm[i]})\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//t.listMenu = [...dm];\r\n\t\t\t},\r\n\t\t\t//num是增加的数量，prentIndex是所在list中的索引。\r\n\t\t\tadd(num,prentIndex) {\r\n\t\t\t\tlet pitem = this.list[prentIndex];\r\n\t\t\t\tlet index = this.test.findIndex(item=>{\r\n\t\t\t\t\treturn item.id == pitem.id;\r\n\t\t\t\t})\r\n\t\t\t\tif(index>-1){\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(this.test[index].buy!= num && num!=0){\r\n\t\t\t\t\t\tthis.test.splice(index,1,pitem)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(num == 0){\r\n\t\t\t\t\t\tif(index>-1){\r\n\t\t\t\t\t\t\tif(this.test[index]){\r\n\r\n\t\t\t\t\t\t\t\tthis.test.splice(index,1)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(num>0){\r\n\t\t\t\t\t\tthis.test.push(pitem);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.jishunFenLeiTotal();\r\n\t\t\t},\r\n\t\t\t//e = {index:购物车商品增减的索引，num:购物车增减的数量。}\r\n\t\t\tcarchange(e){\r\n\t\t\t\tlet t  =this;\r\n\t\t\t\tlet index = this.list.findIndex(item=>{\r\n\t\t\t\t\treturn item?.id == t.test[e.index]?.id;\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tif (index>-1) {\r\n\t\t\t\t\tif(!t.test[e.index]) return;\r\n\t\t\t\t\tt.test.splice(e.index,1,{...t.test[e.index],buy:e.num})\r\n\t\t\t\t\tlet pd = this.$tm.deepClone(t.list[index]);\r\n\t\t\t\t\tpd.buy = e.num;\r\n\t\t\t\t\tt.list.splice(index,1,pd)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(e.num==0&&this.test[e.index]){\r\n\t\t\t\t\t\tthis.$delete(this.test,e.index)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t//在非h5端此数据不变同步到购物车，因为绑定的当前列表不在显示页面上。\r\n\t\t\t\t\t\t//但h5端可以同步。\r\n\t\t\t\t\t\t// #ifndef H5\r\n\t\t\t\t\t\tif(!this.test[e.index]) return;\r\n\t\t\t\t\t\tif( this.test[e.index].buy != e.num){\r\n\t\t\t\t\t\t\t//console.log('未同步');\r\n\t\t\t\t\t\t\tthis.test.splice(e.index,1,{...this.test[e.index],buy:e.num})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.jishunFenLeiTotal();\r\n\t\t\t},\r\n\t\t\t//清空购物车。\r\n\t\t\tclearList(e){\r\n\t\t\t\tlet t = this;\r\n\t\t\t\tlet plist = [...t.list]\r\n\t\t\t\tfor(let i=0;i<plist.length;i++){\r\n\t\t\t\t\tlet item = plist[i];\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor(let j=0;j<t.test.length;j++){\r\n\t\t\t\t\t\tlet item2 = t.test[j];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(item2.id===item.id){\r\n\t\t\t\t\t\t\titem.buy=0;\r\n\t\t\t\t\t\t\tthis.list.splice(i,1,item)\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.test = [];\r\n\t\t\t\tthis.jishunFenLeiTotal()\r\n\t\t\t},\r\n\t\t\t//确认提交订单。\r\n\t\t\tconfirm(e){\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tuni.$tm.toast(\"提交购物订单\")\r\n\t\t\t}\r\n\t\t},\n\t}\n</script>\n\n<style >\n\n</style>\n"],"sourceRoot":""}