{"version":3,"sources":["webpack:///C:/Users/Administrator/Documents/HBuilderProjects/tmUI-vuetify示例/tm-vuetify/components/tm-flop/tm-flop.vue?c55e","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/tmUI-vuetify示例/tm-vuetify/components/tm-flop/tm-flop.vue?0a24","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/tmUI-vuetify示例/tm-vuetify/components/tm-flop/tm-flop.vue?5895","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/tmUI-vuetify示例/tm-vuetify/components/tm-flop/tm-flop.vue?bef5","uni-app:///tm-vuetify/components/tm-flop/tm-flop.vue"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;;;AAGtD;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAimB,CAAgB,2nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuBrnB,sF;AACA;AACA,iBADA;AAEA;AACA,4BADA,EAFA;;AAKA;AACA;;;AAGA;AACA,kBADA;AAEA,qBAFA;AAGA,gBAHA,EAJA;;AASA;;;AAGA;AACA,kBADA;AAEA,qBAFA;AAGA,mBAHA,EAZA;;AAiBA;;;AAGA;AACA,kBADA;AAEA,qBAFA;AAGA,mBAHA,EApBA;;AAyBA;;;AAGA;AACA,mBADA;AAEA,qBAFA;AAGA,mBAHA,EA5BA;;AAiCA;;;AAGA;AACA,kBADA;AAEA,qBAFA;AAGA,gBAHA;AAIA,eAJA,qBAIA,KAJA,EAIA;AACA;AACA,OANA,EApCA;;AA4CA;AACA,kBADA;AAEA,qBAFA;AAGA,kBAHA,EA5CA;;AAiDA;;;AAGA;AACA,kBADA;AAEA,qBAFA;AAGA,kBAHA,EApDA;;AAyDA;;;;AAIA;AACA,kBADA;AAEA,qBAFA;AAGA,iBAHA,EA7DA;;AAkEA;;;;AAIA;AACA,kBADA;AAEA,qBAFA;AAGA,iBAHA,EAtEA;;;AA4EA;;;AAGA;AACA,mBADA;AAEA,qBAFA;AAGA,mBAHA,EA/EA;;;AAqFA;;;AAGA;AACA,mBADA;AAEA,qBAFA;AAGA,oBAHA,EAxFA;;AA6FA;;;AAGA;AACA,kBADA;AAEA,qBAFA;AAGA,mBAHA,EAhGA,EALA;;;AA2GA,MA3GA,kBA2GA;AACA;AACA,kCADA;AAEA,oDAFA;AAGA,oBAHA;AAIA,mBAJA;AAKA,kCALA;AAMA,qBANA;AAOA,qBAPA;AAQA,qBARA;AASA,eATA;AAUA,iBAVA;;AAYA,GAxHA;AAyHA;AACA,aADA,uBACA;AACA;AACA,KAHA,EAzHA;;AA8HA;AACA,YADA,sBACA;AACA;AACA;AACA;AACA,KALA;AAMA,UANA,oBAMA;AACA;AACA;AACA;AACA,KAVA,EA9HA;;AA0IA,SA1IA,qBA0IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,EAEA,iBAFA;AAGA;AACA;AACA,GApJA;AAqJA,SArJA,qBAqJA;AACA;AACA,GAvJA;AAwJA;AACA,YADA,sBACA;AACA;AACA;AACA,KAJA;AAKA,aALA,qBAKA,CALA,EAKA,CALA,EAKA;AACA;AACA,KAPA;AAQA,SARA,iBAQA,QARA,EAQA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAfA;AAgBA,eAhBA,yBAgBA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA,KAxBA;AAyBA,SAzBA,mBAyBA;AACA;AACA,KA3BA;AA4BA,UA5BA,oBA4BA;AACA;AACA;AACA;AACA;AACA,KAjCA;AAkCA,SAlCA,mBAkCA;AACA;AACA;AACA;AACA,KAtCA;AAuCA,SAvCA,iBAuCA,SAvCA,EAuCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,OANA,MAMA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAtEA;AAuEA,YAvEA,oBAuEA,GAvEA,EAuEA;AACA;AACA,KAzEA;AA0EA,gBA1EA,wBA0EA,GA1EA,EA0EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAvFA,EAxJA;;AAiPA,WAjPA,uBAiPA;AACA;AACA;AACA,GApPA,E","file":"tm-vuetify/components/tm-flop/tm-flop.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./tm-flop.vue?vue&type=template&id=6a620cc5&\"\nvar renderjs\nimport script from \"./tm-flop.vue?vue&type=script&lang=js&\"\nexport * from \"./tm-flop.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"tm-vuetify/components/tm-flop/tm-flop.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tm-flop.vue?vue&type=template&id=6a620cc5&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (_vm.$scope.data.scopedSlotsCompiler === \"augmented\") {\n    _vm.$setScopedSlotsParams(\"default\", {\n      value: _vm.displayValue\n    })\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tm-flop.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tm-flop.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"tm-flop vertical-align-middle d-inline-block \">\r\n\t\t<slot name=\"default\" :value=\"displayValue\">{{ displayValue }}</slot>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n/**\r\n * 数字翻牌\r\n * @property {Number} startVal = [] 0,起始值\r\n * @property {Number} endVal = [] 0,最终值\r\n * @property {Number} duration = [] 3000,从起始值到结束值数字变动的时间\r\n * @property {Boolean} autoplay = [] true,是否自动播放\r\n * @property {Number} decimals = [] 0,保留的小数位数\r\n * @property {String} decimal = [] '.',小数点分割符号\r\n * @property {String} separator = [] ',',上了三位数分割的符号\r\n * @property {String} prefix = [] '',前缀\r\n * @property {String} suffix = [] '',后缀\r\n * @property {Boolean} isFrequent = [] false,是否隔一段时间数字跳动，这里的跳动是隔一段时间设置初始值\r\n * @property {Number} frequentTime = [] 5000,跳动间隔时间\r\n * 此库移植自：https://github.com/sitonlotus/vue-digital-flop\r\n */\r\nimport tmTranslate from '@/tm-vuetify/components/tm-translate/tm-translate.vue';\r\nimport { requestAnimationFrame, cancelAnimationFrame } from './requestAnimationFrame';\r\nexport default {\r\n\tname: 'tm-flop',\r\n\tcomponents: {\r\n\t\ttmTranslate\r\n\t},\r\n\tprops: {\r\n\t\t/**\r\n\t\t * @description 起始值\r\n\t\t */\r\n\t\tstartVal: {\r\n\t\t\ttype: Number,\r\n\t\t\trequired: false,\r\n\t\t\tdefault: 0\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 最终值\r\n\t\t */\r\n\t\tendVal: {\r\n\t\t\ttype: Number,\r\n\t\t\trequired: false,\r\n\t\t\tdefault: 2021\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 从起始值到结束值数字变动的时间\r\n\t\t */\r\n\t\tduration: {\r\n\t\t\ttype: Number,\r\n\t\t\trequired: false,\r\n\t\t\tdefault: 3000\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 是否自动播放\r\n\t\t */\r\n\t\tautoplay: {\r\n\t\t\ttype: Boolean,\r\n\t\t\trequired: false,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 保留的小数位数\r\n\t\t */\r\n\t\tdecimals: {\r\n\t\t\ttype: Number,\r\n\t\t\trequired: false,\r\n\t\t\tdefault: 0,\r\n\t\t\tvalidator(value) {\r\n\t\t\t\treturn value >= 0;\r\n\t\t\t}\r\n\t\t},\r\n\t\tdecimal: {\r\n\t\t\ttype: String,\r\n\t\t\trequired: false,\r\n\t\t\tdefault: '.'\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 三位三位的隔开效果\r\n\t\t */\r\n\t\tseparator: {\r\n\t\t\ttype: String,\r\n\t\t\trequired: false,\r\n\t\t\tdefault: ','\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 前缀\r\n\t\t * @example '¥' 人民币前缀\r\n\t\t */\r\n\t\tprefix: {\r\n\t\t\ttype: String,\r\n\t\t\trequired: false,\r\n\t\t\tdefault: ''\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 后缀\r\n\t\t * @example\r\n\t\t */\r\n\t\tsuffix: {\r\n\t\t\ttype: String,\r\n\t\t\trequired: false,\r\n\t\t\tdefault: ''\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description 是否具有连贯性\r\n\t\t */\r\n\t\tuseEasing: {\r\n\t\t\ttype: Boolean,\r\n\t\t\trequired: false,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @description 是否隔一段时间数字跳动，这里的跳动是隔一段时间设置初始值\r\n\t\t */\r\n\t\tisFrequent: {\r\n\t\t\ttype: Boolean,\r\n\t\t\trequired: false,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\t/**\r\n\t\t * @description 跳动间隔时间\r\n\t\t */\r\n\t\tfrequentTime: {\r\n\t\t\ttype: Number,\r\n\t\t\trequired: false,\r\n\t\t\tdefault: 5000\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tlocalStartVal: this.startVal,\r\n\t\t\tdisplayValue: this.formatNumber(this.startVal),\r\n\t\t\tprintVal: null,\r\n\t\t\tpaused: false,\r\n\t\t\tlocalDuration: this.duration,\r\n\t\t\tstartTime: null,\r\n\t\t\ttimestamp: null,\r\n\t\t\tremaining: null,\r\n\t\t\trAF: null,\r\n\t\t\ttimer: null\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tcountDown() {\r\n\t\t\treturn this.startVal > this.endVal;\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tstartVal() {\r\n\t\t\tif (this.autoplay) {\r\n\t\t\t\tthis.start();\r\n\t\t\t}\r\n\t\t},\r\n\t\tendVal() {\r\n\t\t\tif (this.autoplay) {\r\n\t\t\t\tthis.start();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tif (this.autoplay) {\r\n\t\t\tthis.start();\r\n\t\t}\r\n\t\tif (this.isFrequent && this.frequentTime) {\r\n\t\t\tthis.timer = setInterval(() => {\r\n\t\t\t\tthis.start(this.randomNum(0, this.endVal));\r\n\t\t\t}, this.frequentTime);\r\n\t\t}\r\n\t\tthis.$emit('mountedCallback');\r\n\t},\r\n\tdestroy(){\r\n\t\tthis.destroyed();\r\n\t},\r\n\tmethods: {\r\n\t\teasingFn(t = 0, b = 0, c = 0, d = 0) {\r\n\t\t\tlet p = (c * (-Math.pow(2, (-10 * t) / d) + 1) * 1024) / 1023 + b;\r\n\t\t\treturn p;\r\n\t\t},\r\n\t\trandomNum(a, b) {\r\n\t\t\treturn Math.round(Math.random() * (b - a) + a);\r\n\t\t},\r\n\t\tstart(startVal) {\r\n\t\t\tthis.localStartVal = startVal || this.startVal;\r\n\t\t\tthis.startTime = null;\r\n\t\t\tthis.localDuration = this.duration;\r\n\t\t\tthis.paused = false;\r\n\r\n\t\t\tthis.rAF = requestAnimationFrame(this.count);\r\n\t\t},\r\n\t\tpauseResume() {\r\n\t\t\tif (this.paused) {\r\n\t\t\t\tthis.resume();\r\n\t\t\t\tthis.paused = false;\r\n\t\t\t} else {\r\n\t\t\t\tthis.pause();\r\n\t\t\t\tthis.paused = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tpause() {\r\n\t\t\tcancelAnimationFrame(this.rAF);\r\n\t\t},\r\n\t\tresume() {\r\n\t\t\tthis.startTime = null;\r\n\t\t\tthis.localDuration = +this.remaining;\r\n\t\t\tthis.localStartVal = +this.printVal;\r\n\t\t\trequestAnimationFrame(this.count);\r\n\t\t},\r\n\t\treset() {\r\n\t\t\tthis.startTime = null;\r\n\t\t\tcancelAnimationFrame(this.rAF);\r\n\t\t\tthis.displayValue = this.formatNumber(this.startVal);\r\n\t\t},\r\n\t\tcount(timestamp) {\r\n\t\t\tif (!this.startTime) this.startTime = timestamp;\r\n\t\t\tthis.timestamp = timestamp;\r\n\t\t\tconst progress = timestamp - this.startTime;\r\n\t\t\tthis.remaining = this.localDuration - progress;\r\n\r\n\t\t\tif (this.useEasing) {\r\n\t\t\t\tif (this.countDown) {\r\n\t\t\t\t\tthis.printVal = this.localStartVal - this.easingFn(progress, 0, this.localStartVal - this.endVal, this.localDuration) || 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.printVal = this.easingFn(progress, this.localStartVal, this.endVal - this.localStartVal, this.localDuration);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (this.countDown) {\r\n\t\t\t\t\tthis.printVal = this.localStartVal - (this.localStartVal - this.endVal) * (progress / this.localDuration);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.printVal = this.localStartVal + (this.endVal - this.localStartVal) * (progress / this.localDuration);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (this.countDown) {\r\n\t\t\t\tthis.printVal = this.printVal < this.endVal ? this.endVal : this.printVal;\r\n\t\t\t} else {\r\n\t\t\t\tthis.printVal = this.printVal > this.endVal ? this.endVal : this.printVal;\r\n\t\t\t}\r\n\r\n\t\t\tthis.displayValue = this.formatNumber(this.printVal);\r\n\t\t\tif (progress < this.localDuration) {\r\n\t\t\t\tthis.rAF = requestAnimationFrame(this.count);\r\n\t\t\t} else {\r\n\t\t\t\tthis.$emit('callback');\r\n\t\t\t}\r\n\t\t},\r\n\t\tisNumber(val) {\r\n\t\t\treturn !isNaN(parseFloat(val));\r\n\t\t},\r\n\t\tformatNumber(num) {\r\n\t\t\tnum = num.toFixed(this.decimals);\r\n\t\t\tnum += '';\r\n\t\t\tconst x = num.split('.');\r\n\t\t\tlet x1 = x[0];\r\n\t\t\tconst x2 = x.length > 1 ? this.decimal + x[1] : '';\r\n\t\t\tconst rgx = /(\\d+)(\\d{3})/;\r\n\t\t\tif (this.separator && !this.isNumber(this.separator)) {\r\n\t\t\t\twhile (rgx.test(x1)) {\r\n\t\t\t\t\tx1 = x1.replace(rgx, '$1' + this.separator + '$2');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this.prefix + x1 + x2 + this.suffix;\r\n\t\t}\r\n\t},\r\n\tdestroyed() {\r\n\t\tcancelAnimationFrame(this.rAF);\r\n\t\tthis.timer && clearInterval(this.timer);\r\n\t}\r\n};\r\n</script>\r\n\r\n<style></style>\n"],"sourceRoot":""}