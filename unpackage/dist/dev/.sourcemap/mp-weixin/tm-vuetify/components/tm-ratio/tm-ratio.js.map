{"version":3,"sources":["webpack:///C:/Users/Administrator/Documents/HBuilderProjects/tmUI-vuetify示例/tm-vuetify/components/tm-ratio/tm-ratio.vue?8be6","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/tmUI-vuetify示例/tm-vuetify/components/tm-ratio/tm-ratio.vue?3fcc","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/tmUI-vuetify示例/tm-vuetify/components/tm-ratio/tm-ratio.vue?43db","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/tmUI-vuetify示例/tm-vuetify/components/tm-ratio/tm-ratio.vue?83dd","uni-app:///tm-vuetify/components/tm-ratio/tm-ratio.vue"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiI;AACjI;AAC4D;AACL;;;AAGvD;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,+FAAM;AACR,EAAE,wGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAkmB,CAAgB,4nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;ACUtnB;;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA,kBADA;AAEA,oBAFA,EAFA;;AAMA;AACA,2BADA;AAEA,kBAFA,EANA;;AAUA;AACA,2BADA;AAEA,kBAFA,EAVA;;AAcA;AACA,kBADA;AAEA,sBAFA,EAdA;;AAkBA;AACA,4BADA;AAEA,oBAFA,EAlBA,EADA;;;AAwBA,MAxBA,kBAwBA;AACA;AACA,eADA;AAEA,mBAFA;;AAIA,GA7BA;AA8BA,SA9BA,qBA8BA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA,oCADA;AAEA,0CAFA;AAGA,wCAHA;AAIA,uCAJA;;AAMA;AACA,6BADA;AAEA,mCAFA;AAGA,iCAHA;AAIA,gCAJA;;AAMA;AACA;AACA;AACA;AACA;AACA,+DADA;AAEA,qCAFA;AAGA,wCAHA;AAIA,kEAJA;;AAMA;AACA,sDADA;AAEA,8BAFA;AAGA,iCAHA;AAIA,yDAJA;;AAMA;AACA;AACA;AACA;AACA;;AAEA;AACA,2DADA;AAEA,iCAFA;AAGA,oCAHA;AAIA,8DAJA;;AAMA;AACA,kDADA;AAEA,0BAFA;AAGA,6BAHA;AAIA,qDAJA;;AAMA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAHA,MAGA;AACA;AACA;AACA;;AAEA;AACA,2BADA;AAEA,4BAFA;AAGA,+BAHA;AAIA,8BAJA;;AAMA;AACA,oBADA;AAEA,qBAFA;AAGA,wBAHA;AAIA,uBAJA;;AAMA;AACA;;;AAGA,OAnGA,EAmGA,IAnGA;AAoGA,KA1GA;;AA4GA,GA9IA,E","file":"tm-vuetify/components/tm-ratio/tm-ratio.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./tm-ratio.vue?vue&type=template&id=48537c6d&scoped=true&\"\nvar renderjs\nimport script from \"./tm-ratio.vue?vue&type=script&lang=js&\"\nexport * from \"./tm-ratio.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"48537c6d\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"tm-vuetify/components/tm-ratio/tm-ratio.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tm-ratio.vue?vue&type=template&id=48537c6d&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (_vm.$scope.data.scopedSlotsCompiler === \"augmented\") {\n    _vm.$setScopedSlotsParams(\"default\", {\n      data: _vm.style\n    })\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tm-ratio.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tm-ratio.vue?vue&type=script&lang=js&\"","<!-- 长宽比例组件 -->\r\n<template>\r\n\t<view class=\"tm-ratio--wk d-inline-block\">\r\n\t\t<view  class=\"tm-ratio\" :class=\"[color,black=='true'||black===true?'bk':'']\" :style=\"style\">\r\n\t\t\t<slot name=\"default\" :data=\"style\"></slot>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n<script>\r\n\r\n\t /**\r\n\t  * \r\n\t  * 长宽比例组件\r\n\t  * @property {String} ratio = [] 默认：4/3，比例\r\n\t  * @property {Number | String} width = [] 默认：NaN，默认会根据父组件自动计算宽高，指定宽。\r\n\t  * @property {Number | String} height = [] 默认：NaN，默认会根据父组件自动计算宽高，指定高。\r\n\t  * @property {String} color = [white] 默认：white，背景色，主题名称。\r\n\t  * @property {Boolean} black = [true|false] 默认：false，暗黑模式\r\n\t  * @example <tm-ratio  height=\"240\" ratio=\"16/9\" ><template v-slot=\"{data}\">{{data.width}}</template></tm-ratio>\r\n\t  * \r\n\t  */\r\n\texport default {\r\n\t\tprops: {\r\n\t\t\t// 比例如:16/9,4/3,5/4\r\n\t\t\tratio: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '4/3'\r\n\t\t\t},\r\n\t\t\twidth: {\r\n\t\t\t\ttype: Number | String,\r\n\t\t\t\tdefault: NaN\r\n\t\t\t},\r\n\t\t\theight: {\r\n\t\t\t\ttype: Number | String,\r\n\t\t\t\tdefault: NaN\r\n\t\t\t},\r\n\t\t\tcolor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"white\"\r\n\t\t\t},\r\n\t\t\tblack: {\r\n\t\t\t\ttype: String|Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tstyle: '',\r\n\t\t\t\tstyle_obj:{}\r\n\t\t\t};\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tlet t = this;\r\n\t\t\tconst query = uni.createSelectorQuery().in(this);\r\n\t\t\t\r\n\t\t\tquery.select('.tm-ratio--wk').boundingClientRect().exec(dsd => {\r\n\t\t\t\tvar ds = dsd[0];\r\n\t\t\t\t\r\n\t\t\t\tlet wsys = uni.getSystemInfoSync();\r\n\t\t\t\tlet maxWidth = wsys.windowWidth - ds.left - ds.right;\r\n\t\t\t\tif (maxWidth <= 0) maxWidth = ds.width;\r\n\t\t\t\tquery.select('.tm-ratio').boundingClientRect(data => {\r\n\r\n\t\t\t\t\tlet rt = t.ratio;\r\n\t\t\t\t\tif (!rt || rt.indexOf('/') == -1 || rt.split('/').length !== 2) {\r\n\t\t\t\t\t\trt = '4/3'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet ro = rt.split('/');\r\n\t\t\t\t\tlet ws = !isNaN(parseInt(ro[0])) ? parseInt(ro[0]) : 4;\r\n\t\t\t\t\tlet hs = !isNaN(parseInt(ro[1])) ? parseInt(ro[1]) : 3;\r\n\r\n\t\t\t\t\tlet bl = hs / ws;\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\tif (isNaN(t.width) && isNaN(t.height)) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tt.style ={\r\n\t\t\t\t\t\t\twidth: data.width + 'px',\r\n\t\t\t\t\t\t\theight: data.width * bl + 'px',\r\n\t\t\t\t\t\t\tminHeight: data.width + 'px',\r\n\t\t\t\t\t\t\tminWidth: data.width + 'px'\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tt.style_obj = uni.$tm.objToString({\r\n\t\t\t\t\t\t\twidth: data.width,\r\n\t\t\t\t\t\t\theight: data.width * bl,\r\n\t\t\t\t\t\t\tminHeight: data.width ,\r\n\t\t\t\t\t\t\tminWidth: data.width\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!isNaN(t.width) && isNaN(t.height)) {\r\n\t\t\t\t\t\tlet width = uni.upx2px(t.width)\r\n\t\t\t\t\t\tt.style = {\r\n\t\t\t\t\t\t\twidth: (width > maxWidth ? maxWidth : width) + 'px',\r\n\t\t\t\t\t\t\theight: width * bl + 'px',\r\n\t\t\t\t\t\t\tminHeight: width * bl + 'px',\r\n\t\t\t\t\t\t\tminWidth: (width > maxWidth ? maxWidth : width) + 'px'\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tt.style_obj = uni.$tm.objToString({\r\n\t\t\t\t\t\t\twidth: (width > maxWidth ? maxWidth : width) ,\r\n\t\t\t\t\t\t\theight: width * bl,\r\n\t\t\t\t\t\t\tminHeight: width * bl ,\r\n\t\t\t\t\t\t\tminWidth: (width > maxWidth ? maxWidth : width)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (isNaN(t.width) && !isNaN(t.height)) {\r\n\t\t\t\t\t\tlet height = uni.upx2px(t.height)\r\n\t\t\t\t\t\tlet xsw = height / bl;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tt.style = {\r\n\t\t\t\t\t\t\twidth: (xsw > maxWidth ? maxWidth : xsw) + 'px',\r\n\t\t\t\t\t\t\theight: height + 'px',\r\n\t\t\t\t\t\t\tminHeight: height + 'px',\r\n\t\t\t\t\t\t\tminWidth: (xsw > maxWidth ? maxWidth : xsw) + 'px'\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tt.style_obj = uni.$tm.objToString({\r\n\t\t\t\t\t\t\twidth: (xsw > maxWidth ? maxWidth : xsw) ,\r\n\t\t\t\t\t\t\theight: height,\r\n\t\t\t\t\t\t\tminHeight: height ,\r\n\t\t\t\t\t\t\tminWidth: (xsw > maxWidth ? maxWidth : xsw) \r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// 如果同时提供了宽高，那么按比例。以最长边为第一值。\r\n\t\t\t\t\tif (!isNaN(t.width) && !isNaN(t.height)) {\r\n\t\t\t\t\t\t// 第一值，默认为宽度。\r\n\t\t\t\t\t\tlet xnh = uni.upx2px(t.width);\r\n\t\t\t\t\t\tlet isW = true;\r\n\t\t\t\t\t\tif (xnh < uni.upx2px(t.height)) {\r\n\t\t\t\t\t\t\txnh = uni.upx2px(t.height);\r\n\t\t\t\t\t\t\tisW = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlet w = 0;\r\n\t\t\t\t\t\tlet h = 0;\r\n\t\t\t\t\t\tif (isW) {\r\n\t\t\t\t\t\t\tw = xnh;\r\n\t\t\t\t\t\t\th = xnh * bl;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tw = xnh / bl;\r\n\t\t\t\t\t\t\th = xnh;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tt.style = {\r\n\t\t\t\t\t\t\twidth: w + 'px',\r\n\t\t\t\t\t\t\theight: h + 'px',\r\n\t\t\t\t\t\t\tminHeight: h + 'px',\r\n\t\t\t\t\t\t\tminWidth: w + 'px'\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tt.style_obj = uni.$tm.objToString({\r\n\t\t\t\t\t\t\twidth: w ,\r\n\t\t\t\t\t\t\theight: h ,\r\n\t\t\t\t\t\t\tminHeight: h ,\r\n\t\t\t\t\t\t\tminWidth: w \r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}).exec();\r\n\t\t\t})\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\n"],"sourceRoot":""}