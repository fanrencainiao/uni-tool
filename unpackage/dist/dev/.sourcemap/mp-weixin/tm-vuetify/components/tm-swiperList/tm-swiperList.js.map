{"version":3,"sources":["webpack:///C:/Users/Administrator/Documents/HBuilderProjects/tmUI-vuetify示例/tm-vuetify/components/tm-swiperList/tm-swiperList.vue?87a2","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/tmUI-vuetify示例/tm-vuetify/components/tm-swiperList/tm-swiperList.vue?1e5d","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/tmUI-vuetify示例/tm-vuetify/components/tm-swiperList/tm-swiperList.vue?2868","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/tmUI-vuetify示例/tm-vuetify/components/tm-swiperList/tm-swiperList.vue?2831","uni-app:///tm-vuetify/components/tm-swiperList/tm-swiperList.vue"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0H;AAC1H;AACiE;AACL;;;AAG5D;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,mFAAM;AACR,EAAE,wFAAM;AACR,EAAE,iGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,4FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC9BA;AAAA;AAAA;AAAA;AAAumB,CAAgB,ioBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC4B3nB;AACA,uBADA;AAEA;AACA;AACA,iBADA;AAEA,+CAFA,EADA;;AAKA;AACA,kBADA;AAEA,kBAFA,EALA;;AASA;AACA,kBADA;AAEA,kBAFA,EATA;;AAaA;AACA,kBADA;AAEA,kBAFA,EAbA,EAFA;;;AAoBA,MApBA,kBAoBA;AACA;AACA,0BADA;AAEA,kBAFA;AAGA,oBAHA;AAIA,gBAJA,EAIA;AACA,cALA;AAMA;AACA;AACA,oBADA,EACA;AACA,sBAFA,EAEA;AACA,qBAHA,EAGA;AACA,wBAJA;AAKA,gBALA,EADA;;;AASA,oBATA,CASA;AATA,OANA;;AAkBA,GAvCA;AAwCA;AACA;AACA,gBADA;AAEA,aAFA,qBAEA;AACA;AACA,OAJA,EADA,EAxCA;;;AAgDA;AACA;AACA;AACA;;AAEA,KALA;AAMA;AACA;AACA,KARA;AASA;AACA;AACA,KAXA;AAYA,YAZA,sBAYA;AACA;AACA,KAdA,EAhDA;;AAgEA,SAhEA,qBAgEA;AACA,GAjEA;AAkEA,SAlEA,qBAkEA;AACA;AACA;AACA,GArEA;AAsEA;AACA,gBADA,wBACA,CADA,EACA;AACA;AACA;AACA;AACA;AACA,OAFA,EAEA,EAFA;AAGA,KAPA;AAQA,UARA,kBAQA,CARA,EAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCADA,EACA;AACA,4BAFA,EAEA;AACA,4BAHA,EAGA;AACA,iBAJA,EADA;;;;AASA;AACA;AACA;AACA,OAFA,EAEA,EAFA;AAGA,KAlCA;AAmCA,cAnCA,sBAmCA,aAnCA,EAmCA,EAnCA,EAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;AAKA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAHA;;AAKA;AACA,mHADA;AAEA,wBAFA;;;AAKA,KAtEA;AAuEA,gBAvEA,0BAuEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,aAFA;AAGA;AACA;AACA;AACA;AACA,KAvFA,EAtEA,E","file":"tm-vuetify/components/tm-swiperList/tm-swiperList.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./tm-swiperList.vue?vue&type=template&id=b00fe0ba&\"\nvar renderjs\nimport script from \"./tm-swiperList.vue?vue&type=script&lang=js&\"\nexport * from \"./tm-swiperList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"tm-vuetify/components/tm-swiperList/tm-swiperList.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tm-swiperList.vue?vue&type=template&id=b00fe0ba&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.list_data, function(item, index2) {\n    var $orig = _vm.__get_orig(item)\n\n    if (_vm.$scope.data.scopedSlotsCompiler === \"augmented\") {\n      _vm.$setScopedSlotsParams(\"default\", {\n        itemdata: $orig\n      })\n    }\n\n    return {\n      $orig: $orig\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tm-swiperList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tm-swiperList.vue?vue&type=script&lang=js&\"","<template>\n\t<view  class=\"tm-swiperList\">\r\n\t\t\n\t\t<swiper @change=\"swiperChange\" :style=\"{width:width+'rpx',height:height+'rpx'}\">\r\n\t\t\t<swiper-item v-for=\"(item,index2) in list_data\" :key=\"index2\" :style=\"{width:width+'rpx',height:height+'rpx'}\">\r\n\t\t\t\t<view \r\n\t\t\t\tv-if=\"(selectedWipeIndex==index2+1)||(selectedWipeIndex==index2-1)||selectedWipeIndex==index2\" @scroll=\"scroll($event,index2)\"  :style=\"{width:width+'rpx',height:height+'rpx',overflowY:'auto'}\">\r\n\t\t\t\t\t<view :style=\"{height:itemHeight_px*item.length+'px'\r\n\t\t\t\t\t}\" :key=\"index2\" class=\"relative\">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view :style=\"{marginTop:sctop+'px'}\" class=\"absolute fulled\">\r\n\t\t\t\t\t\t\t<view :style=\"{height: '100rpx'}\"\r\n\t\t\t\t\t\t\tv-for=\"(item,index) in chiledrenData.listData\" :key=\"index\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<slot name=\"default\" :itemdata=\"item\">\r\n\t\t\t\t\t\t\t</slot>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</swiper-item>\r\n\t\t</swiper>\n\t</view>\n</template>\n\n<script>\n\texport default {\r\n\t\tname:'tm-swiperList',\r\n\t\tprops: {\r\n\t\t\tlist:{\r\n\t\t\t\ttype:Array,\r\n\t\t\t\tdefault:()=>[]\r\n\t\t\t},\r\n\t\t\twidth:{\r\n\t\t\t\ttype:Number,\r\n\t\t\t\tdefault:400\r\n\t\t\t},\r\n\t\t\theight:{\r\n\t\t\t\ttype:Number,\r\n\t\t\t\tdefault:600\r\n\t\t\t},\r\n\t\t\titemHeight:{\r\n\t\t\t\ttype:Number,\r\n\t\t\t\tdefault:100\r\n\t\t\t}\r\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tselectedWipeIndex:0,\r\n\t\t\t\ttimed:96536,\r\n\t\t\t\ttimed1:965361,\r\n\t\t\t\tshowNum:0,//当前视图内可容纳的条数\r\n\t\t\t\tsctop:0,\r\n\t\t\t\tchiledrenData:{\r\n\t\t\t\t\tscroll:{\r\n\t\t\t\t\t\tshowNum:6,//当前视图内可容纳的条数\r\n\t\t\t\t\t\ttotalSum:40,//总条数\r\n\t\t\t\t\t\ttopIndex:0,//顶部位置条目的索引\r\n\t\t\t\t\t\tpreateIndex:0,\r\n\t\t\t\t\t\ttop:0\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\r\n\t\t\t\t\tlistData:[]//列表可以渲染的数据。\r\n\t\t\t\t}\n\t\t\t};\n\t\t},\r\n\t\twatch:{\r\n\t\t\tlist:{\r\n\t\t\t\tdeep:true,\r\n\t\t\t\thandler(){\r\n\t\t\t\t\tthis.setDefault();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tshowSlotData:function () {\r\n\t\t\t\tconsole.log(this.chiledrenData);\r\n\t\t\t\treturn JSON.stringify(this.chiledrenData)\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\titemHeight_px:function () {\r\n\t\t\t\treturn uni.upx2px(this.itemHeight)\r\n\t\t\t},\r\n\t\t\tlist_data:function () {\r\n\t\t\t\treturn this.list;\r\n\t\t\t},\r\n\t\t\ttotal_rx() {\r\n\t\t\t\treturn this.total; \r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted(){\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\t//计算当前视图内可容纳的条数\r\n\t\t\tthis.showNum = Math.floor(uni.upx2px(this.height)/uni.upx2px(this.itemHeight));\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tswiperChange(e){\r\n\t\t\t\tlet t =this;\r\n\t\t\t\tclearTimeout(this.timed)\r\n\t\t\t\tthis.timed = setTimeout(function() {\r\n\t\t\t\t\tt.selectedWipeIndex = e.detail.current;\r\n\t\t\t\t}, 50);\r\n\t\t\t},\r\n\t\t\tscroll(e){\r\n\t\t\t\tlet t = this;\r\n\t\t\t\tlet sp = Math.floor(parseInt(e.detail.scrollTop));\r\n\t\t\t\tthis.sctop = e.detail.scrollTop\r\n\t\t\t\tlet to =  Math.floor(parseInt(e.detail.scrollHeight));\r\n\t\t\t\t//计算总的条数。\r\n\t\t\t\tlet totalSum = Math.floor(to / uni.upx2px(this.itemHeight));\r\n\t\t\t\t//计算当前top位置的index.\r\n\t\t\t\tlet topIndex= Math.floor(sp/uni.upx2px(this.itemHeight));\r\n\t\t\t\ttopIndex = topIndex-1;\r\n\t\t\t\ttopIndex = topIndex<=0?0:topIndex;\r\n\t\t\t\t//当前视图内可容纳的条数\r\n\t\t\t\tlet nowViewBoxnum = this.showNum;\r\n\t\t\t\tlet chiledrenData = {\r\n\t\t\t\t\tscroll:{\r\n\t\t\t\t\t\tshowNum:nowViewBoxnum,//当前视图内可容纳的条数\r\n\t\t\t\t\t\ttotalSum:totalSum,//总条数\r\n\t\t\t\t\t\ttopIndex:topIndex,//顶部位置条目的索引\r\n\t\t\t\t\t\ttop:sp,\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tclearTimeout(this.timed1)\r\n\t\t\t\tthis.timed1 = setTimeout(function() {\r\n\t\t\t\t\tt.setDefault(chiledrenData,e.detail.deltaY)\r\n\t\t\t\t}, 50);\r\n\t\t\t},\r\n\t\t\tsetDefault(chiledrenData,dy){\r\n\t\t\t\tlet t  = this;\r\n\t\t\t\tif(this.list.length==0) return;\r\n\t\t\t\tif(!Array.isArray(this.list[this.selectedWipeIndex])) return;\r\n\t\t\t\tif(this.list[this.selectedWipeIndex].length==0) return;\r\n\t\t\t\tif(!chiledrenData) chiledrenData = this.chiledrenData;\r\n\t\t\t\t//计算当前显示的条数。\r\n\t\t\t\tlet p = this.list[this.selectedWipeIndex];\r\n\t\t\t\tlet start = chiledrenData.scroll.topIndex;\r\n\t\t\t\tlet end = start+this.showNum\r\n\t\t\t\t\r\n\t\t\t\tlet d_endIndex = chiledrenData.scroll.topIndex%this.showNum;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tlet s = chiledrenData.scroll.topIndex \r\n\t\t\t\tlet e = s+(this.showNum-d_endIndex);\r\n\t\t\t\t\r\n\t\t\t\tlet sholist = p.slice(s,e);\r\n\t\t\t\t\r\n\t\t\t\t//补齐的数据。\r\n\t\t\t\tlet bu = p.slice(e,e+d_endIndex)\r\n\t\t\t\t\r\n\t\t\t\tlet oslist = [...sholist,...bu];\r\n\t\t\t\toslist = oslist.map((el,index)=>{\r\n\t\t\t\t\tconsole.log(chiledrenData.scroll.top,chiledrenData.scroll.top+index*t.itemHeight_px);\r\n\t\t\t\t\treturn {src:el,top:chiledrenData.scroll.top+index*t.itemHeight_px};\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tthis.chiledrenData = {\r\n\t\t\t\t\tscroll:{...chiledrenData.scroll,preateIndex:this.selectedWipeIndex},\r\n\t\t\t\t\tlistData:oslist\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tfindChildren(){\r\n\t\t\t\tlet t = this;\r\n\t\t\t\tlet box = [];\r\n\t\t\t\tfunction findchild(p,index){\r\n\t\t\t\t\tlet preat = p;\r\n\t\t\t\t\tif(preat.$options?.name==='tm-swiperListItem'){\r\n\t\t\t\t\t\tpreat.test.call(preat,t.index)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tif(preat.$children.length>0){\r\n\t\t\t\t\t\t\tpreat.$children.forEach(item=>{\r\n\t\t\t\t\t\t\t\tfindchild(item,index++);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tfindchild(this.$children[0],0);\r\n\t\t\t},\r\n\t\t},\n\t}\n</script>\n\n<style lang=\"scss\">\n\n</style>\n"],"sourceRoot":""}